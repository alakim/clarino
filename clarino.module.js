const Clarino=function(){const r={},l={},a={xhtmlMode:!0};function i(t,e){for(var n in e)t[n]=e[n]}function t(t){var r,o={};for(r of t="string"==typeof t?t.split(";"):t){r=r.split(".");let e=a,n;for(let t=0;t<r.length;t++)n=r[t],e=e[n];o[n]=e}return o}function s(n,r){if(n)if(n instanceof Array)for(let t=0;t<n.length;t++)r(n[t],t);else if(Array.from&&n instanceof Map){var o=Array.from(n.keys());for(let t,e=0;t=o[e],e<o.length;e++)r(n.get(t),t)}else if(Array.from&&n instanceof Set){var e=Array.from(n);for(let t=0;t<e.length;t++)r(e[t],t)}else for(var t in n)r(n[t],t)}function o(t,e,n,r){let o=[];const i=[];return s(e,function(t){"object"!=typeof t?o.push(t):s(t,function(t,e){i.push(` ${e}="${t}"`)})}),(o=o.join("")).match(/^\s+$/i)&&(o=""),n&&0==o.length?"<"+t+i.join("")+(a.xhtmlMode?"/>":">"):"<"+t+i.join("")+">"+o+"</"+t+">"}function u(t){return{alias:(t=t.split("|"))[0],name:t[2==t.length?1:0]}}function e(t,n){s(t=t instanceof Array?t:t.split(";"),function(t){const e=u(t);r[e.alias]=function(t){return o(e.name,arguments,n)}})}function c(t){return!t||"string"==typeof t&&0==t.length}i(a,{extend:i,composeInterface:t,repeat:function(e,n,t){var r=[];for(let t=0;t<e;t++)r.push(n(t+1));return r.join(t||"")},markup:function(){const e=[];return s(arguments,function(t){e.push(t)}),e.join("")},json:function(e){if(null==e)return"null";if("string"==typeof e)return"'"+e.replace(/\"/g,'\\"')+"'";if("boolean"==typeof e)return e.toString();if("number"==typeof e)return e.toString();if("function"==typeof e)return"";if(e.constructor==Array){var n=[];for(let t=0;t<e.length;t++)n.push(a.json(e[t]));return"["+n.join(",")+"]"}if("object"!=typeof e)return"";var t,r=[];for(t in e)r.push(t+":"+a.json(e[t]));return"{"+r.join(",")+"}"},format:function(e,t,n){for(let t=0;t<arguments.length;t++)e=e.replace(new RegExp("{s*"+t+"s*}","ig"),arguments[t+1]);return e},entities:function(t){return t?t.toString().replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;"):""},decodeEntities:function(t){return t?t.toString().replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/\&amp;/g,"&"):""},tag:o,apply:function(t,n,e,r){const o=[];return s(t,function(t,e){c(t)&&r||c(t=n(t,e))&&r||o.push(t)}),o.join(e||"")},when:function(t,e,n=null){return t?e:n},formatStyle:function(){var e={};for(let t=0;t<arguments.length;t++)i(e,arguments[t]);var t,n,r=[];for(t in e){var o=t.replace(/([A-Z])/g,t=>"-"+t.toLowerCase());r.push(o+":"+(o=o,n=e[t],"width"!=o&&"height"!=o&&"top"!=o&&"left"!=o&&"font-size"!=o||"number"!=typeof n?n:n+"px"))}return r.join(";")},callFunction:function(t,e,n){var r=[];for(let e=1;e<arguments.length;e++){let t=arguments[e];t="string"==typeof t&&t.match(/^@/)?t.slice(1,t.length):a.json(t),r.push(t)}return`${t}(${r.join(",")})`},defineTags:function(t){e(t=t instanceof Array?t:t.split(";"))},getTagDefinitions:function(t){var e,n={};for(e of t=t instanceof Array?t:t.split(";")){var r=u(e);n[r.alias]=function(t){return function(){return a.tag(t,arguments,!0)}}(r.name)}return n}}),e("div;a;p;span;nobr;ul;ol;li;i;table;tbody;thead;tr;input;label;textarea;pre;select;option;optgroup;h1;h2;h3;h4;h5;h6;button;form;dl;dt;dd;svg"),e("abbr;address;area;article;aside;audio;b;base;bdi;bdo;blockquote;body;canvas;caption;cite;code;col;colgroup;datalist;del;details;dfn;dialog;em;embed;fieldset;figcaption;figure;footer;head;header;html;ins;kbd;keygen;legend;link;main;map;mark;menu;menuitem;meta;meter;nav;noscript;object;output;param;picture;progress;q;rp;rt;ruby;s;samp;script;section;small;source;strong;style;sub;summary;sup;tfoot;time;title;track;u;var;video;wbr;iframe"),e("img;hr;br",!0),e("th;td",!1),l.attributes={},l.stylesheet=function(...t){return t.map(function(t){if("string"==typeof t)return t;const n=[];return s(t,function(t,e){!function n(t,r,o){"function"==typeof t&&(t=t());const i={};function u(t){return(t=l.attributes[t]||t).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}o.push(r+"{"),s(t,function(t,e){if("object"!=typeof(t="function"==typeof t?t():t))o.push([u(e),":",t,";"].join(" "));else if(t instanceof Array)for(var n of t)o.push([u(e),":",n,";"].join(" "));else i[e]=t}),"@"==r[0]?(s(i,function(t,e){n(t,e,o)}),o.push("}")):(o.push("}"),s(i,function(t,e){n(t,r+e,o)}))}(t,e,n)}),function(e){var n=[];for(let t=0;t<e.length;t++){var r=e[t];"{"==r[r.length-1]&&"}"==e[t+1]?t++:n.push(r)}return n}(n).join("\n")}).join("\n")},l.writeStylesheet=function(t){document.write('<style type="text/css">\n'),document.write(l.stylesheet(t)),document.write("\n</style>\n")},l.addStylesheet=function(t,...e){document.getElementById(t)?console.warn("Stylesheet #%s already exists",t):document.getElementsByTagName("head")[0].innerHTML+=a.html.style({id:t},"/*"+t+"*/\n",a.css.stylesheet(...e))},l.updateStylesheet=function(t,e){var n=document.getElementById(t);n?n.innerHTML=a.css.stylesheet(e):document.getElementsByTagName("head")[0].innerHTML+=a.html.style({id:t},a.css.stylesheet(e))},l.unit=function(e){const n=t=>"string"==typeof t?t:t instanceof Array?t.join(e+" ")+e:t+e,r={};var t=t=>r[t]=o(t);function o(t){return 1==arguments.length?r[t]||n(t):Array.from(arguments).map(t=>n(t)).join(" ")}return t(0),"pct"==e||"vw"==e||"vh"==e?(t(100),t(75),t(50),t(25)):"em"!=e&&"rem"!=e||(t(1),t(.75),t(.5),t(.25)),o},i(l.unit,{px:l.unit("px"),pct:l.unit("%"),vw:l.unit("vw"),vh:l.unit("vh"),pc:l.unit("pc"),rem:l.unit("rem"),em:l.unit("em")});const f=function(){let t=1;return function(){return t++}}();function p(e,n){if(e!=n){e=e.split("."),n=n.split(".");for(let t=0;t<3;t++){var r=parseInt(e[t],10),o=parseInt(n[t],10);if(r<o)return-1;if(o<r)return 1}}return 0}l.ViewClass=function(...t){const e={};var n,r,o=/\/\*vc\d+\*\//;for(n of t)for(r of"function"==typeof n?n.selectors:n.match(/;/)?n.split(";"):[n]){var i=`/*vc${f()}*/`;for(r.match(o)?r=r.replace(o,i):r+=i;e[r];)r=" "+r;e[" "+r]=!0}function u(t){return a.expand(Object.keys(e),t)}return u.selectors=Object.keys(e),u},a.symbols=function(t,e=!1){var n,r={};for(n of t.split(";"))r[n]=e?n.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()):n;return new Proxy(r,{get(t,e){if("toString"==e)return function(){return t.toString()};if(e in t)return t[e];throw`Undefined symbol "${e}"`}})},a.enumeration=(t,r=!1)=>new Proxy(Object.freeze(t.split(";").reduce((t,e,n)=>(t[e]=r?Symbol():n,t),{})),{get(t,e){if(e in t)return t[e];throw`Undefined enum value "${e}"`}}),a.expand=(t,n,r=t=>t)=>(t="string"==typeof t?t.split(";"):t).reduce((t,e)=>(t[r(e)]="function"==typeof n?n(e):n,t),{}),a.curry=function(t){return function e(...n){return n.length>=t.length?t.apply(this,n):function(...t){return e.apply(this,n.concat(t))}}},a.compose=(...t)=>t.reduce((e,n)=>(...t)=>e(n(...t))),a.pipe=(...e)=>t=>e.reduce((t,e)=>e(t),t),a.range=function*(e,n,r=1){for(let t=e;t<=n;t+=r)yield t},a.lazy=function(n,r=300){let o=0,i=[];return function(){i=Array.from(arguments),o||function e(){o=(new Date).getTime(),setTimeout(function(){var t=(new Date).getTime();t-o<r?(o=t,e()):(o=0,n(...i))},r)}()}},a.cache=(()=>{const l={refreshTimeout:null,transformData:t=>t};return function(t,e={}){const r={...l,...e};let o=null,i=!1,u=0;function n(){return(o=r.refreshTimeout&&u<Date.now()-r.refreshTimeout?null:o)?Promise.resolve(o):new Promise(n=>{if(i){let e=0;return function t(){500<e||(e++,setTimeout(()=>{o?n(o):t()},100))}()}i=!0,t().then(t=>{u=Date.now(),o=r.transformData(t),i=!1,n(o)})})}return n.refresh=()=>{o=null},n}})(),a.indexedArray=function(n,t){if(!(n instanceof Array))throw"Bad data value. Array expected";if("object"!=typeof t&&"function"!=typeof t)throw"Bad idxDef value. Object or function exptected";const i={};for(var e in t="function"==typeof t?{id:t}:t){var r,o=new Map,u=t[e];for(r of n)o.set(u(r),r);i[e]={getID:u,index:o}}function l(t){for(var e in i){var n,r=i[e];r.index.clear();for(n of t)r.index.set(r.getID(n),n)}}function a(t){for(var e in i){e=i[e];e.index.delete(e.getID(t))}}return new Proxy(n,{set(t,e,n){if("length"!==e)for(var r in i){var r=i[r],o=r.getID(n);if(null==o)throw"Item id can't be null";if(r.index.has(o))throw`Item with ID=${o} already exists`;r.index.set(o,n)}return Reflect.set(t,e,n),!0},get(t,e){return"index"===e?function(t,e="id"){if(null==t)throw"Item id can't be null";if(e in i)return i[e].index.get(t);throw`Undefined index ID: "${e}"`}:"data"===e?n:"pop"===e?function(){var t=n.pop();return a(t),t}:"shift"===e?function(){var t=n.shift();return a(t),t}:"unshift"===e?function(...t){t=n.unshift(...t);return l(n),t}:"splice"===e?function(...t){t=n.splice(...t);return l(n),t}:Reflect.get(t,e)}})},a.form=function(e,t,n){if(e){if("string"==typeof e?e=document.querySelector(e):e.jquery&&(e=e[0]),"string"!=typeof t)throw"Bad markup value: string expected";if(e.innerHTML=t,n){if("object"!=typeof n)throw"Bad events structure: object expected";for(var r in n){var o,i=e.querySelectorAll(r),u=n[r];let t=0;for(o of i)for(var l in u)"each"===l?(0,u[l])(o,t++):o.addEventListener(l,u[l])}}}},a.typedFunction=function(...t){const e=t[t.length-1],n=t.slice(0,e.length),r=t.length==n.length+1?t=>t:t[n.length];return function(...t){t.length!=n.length&&console.error(n.length+" arguments expected");t=t.map((t,e)=>n[e](t));return r(e(...t))}},l.keywords=a.symbols("block;none;flex;row;rowReverse;column;columnReverse;left;right;center;top;bottom;hidden;pointer;italic;bold;normal;uppercase;lowercase;absolute;relative;fixed;underline;auto;collapse;separate;inline;inlineBlock;default;solid;dotted;dashed;double;groove;ridge;inset;outset;cover;contain;unset;initial;inherit;wrap;nowrap;wrapReverse;spaceBetween;spaceAround;spaceEvenly;flexStart;flexEnd;baseline;stretch;contentBox;borderBox",!0),l.template={border:function(t,e,n){return n=n||l.keywords.solid,e=e||"#000",[l.unit.px(t),n,e].join(" ")},linearGradient:function(t,e,n){return[e,"-webkit-linear-gradient("+[t+"deg",e,n].join(",")+")","-o-linear-gradient("+[t+"deg",e,n].join(",")+")","-moz-linear-gradient("+[t+"deg",e,n].join(",")+")","linear-gradient("+[t+"deg",e,n].join(",")+")"]}};const h="3.1.1",m=(a.compareVersions=p,{});i(a,{version:function(t){if(!t)return h;for(var e in m){var n;if(p(t,e)<=0)return i(n={},m[e]),n}console.error("Clarino version "+t+" not supported")}}),a.html=r,a.css=l,a.simple=t("markup;apply;repeat;when;format;formatStyle;entities;decodeEntities;callFunction");var n,d=t("html.div;html.a;html.p;html.span;html.nobr;html.hr;html.br;html.img;html.ul;html.ol;html.li;html.table;html.tbody;html.thead;html.tr;html.td;html.th;html.input;html.label;html.textarea;html.pre;html.select;html.option;html.optgroup;html.h1;html.h2;html.h3;html.h4;html.h5;html.h6;html.button;html.form;html.dl;html.dt;html.dd");return i(a.simple,d),m["1.5.0"]=(i(d={},a.css),d.unit=function(t){return a.css.unit(t)},i(d.unit,a.css.unit),d.unit.pc=d.unit.pct,i(n={},a),n.css=d,n),m["2.0.0"]=(i(d={},a),d.compose=a.composeInterface,d),m["2.2.0"]=(i(n={},a),n.symbols=function(t){return a.symbols(t,!0)},n),m[h]=a}();
export default Clarino;
