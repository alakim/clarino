<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Clarino Forms Sample</title>
	<style>
		body{
			font-family:Verdana, Arial, Sans-Serif;
			font-size: 16px;
			background-color:#012;
			color:#ffe;
		}
	</style>
	<script src="../../clarino.js"></script>
	<script>
		var $C = Clarino.version('2.0.0'),
			$H = $C.simple;

		var btName = (function(){
			var counter = 1;
			return function(){
				return 'Button '+(counter++);
			};
		})();

		$C.css.writeStylesheet({
			'.btSmall':{
				fontSize:'12px',
				color:'#008',
				':hover':{
					color:'#f00'
				}
			}
		});

		window.addEventListener('load', function(){
			$C.form(
				'#myForm', // container: DOM node or query selector
				function(){ // HTML template
					return $H.div(
						$H.button({'class':'btAddButtons'}, 'Add small buttons'),
						$H.div({'class':'pnlSmallButtons'},
							$H.repeat(3, function(i){return $H.button({'class':'btSmall'}, btName());})
						)
					);
				},
				{ // handlers for various events
					click:{ // onclick handlers
						'.btAddButtons':function(){ // fires when .btAddButtons clicked
							document.querySelector('#myForm .pnlSmallButtons').insertAdjacentHTML('beforeend', $H.markup(
								$H.repeat(3, function(i){return $H.button({'class':'btSmall'}, btName());})
							));
						},
						'.btSmall':function(ev){ // handlers even for buttons not yet created
							console.log('Small button "'+(ev.target.innerText)+'" clicked!');
						}
					}
				}
			);
		});
	</script>
</head>
<body>
	<h1>Clarino Forms Sample</h1>
	<p>Using Clarino without jQuery.</p>
	<p>IE v.9.0 supported too.</p> 
	<div id="myForm"></div>
</body>
</html>
